(this.webpackJsonpreactor=this.webpackJsonpreactor||[]).push([[0],{123:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEXc3d17fH2mqauvsrPN0NDIysuWmJp/gIHW19fCxMWKjI6HiYuEhoe0t7mprK7T1dWdoKG8v8CQk5SUl5ibnqC5vL3ozvunAAAEqUlEQVR4nO2djbaqIBCFD2r5X+mp93/Ve6jVzYxMYOOeWHxPwF4yPwwz+POTSCQSiUQikUgkEolEIpFIJBJyqeo+O49NW/7RNuM56+uKvSZbivw0dspAN57ygr26tRRZY9LwoMm+QUs/Lqu4MfbsdS5THYwbyrjJDoINJl8t4yolZ6/3DfUH03ilqdlrNpGVtjqUKjP2ql+o9vYyNHthlnK03lZ3miN77VOK1lWHUq2goLKz8lZzuh17/Xf8dMhR4qtDipLCW8efEgF2cvSw8wct33etyhE/M7J1ZBgdSpFj/M4hLzFTcg0etLE0v0wdNU6HUsxU2DFTNLPn6TjCLERT8lwwzGXdONCEOOfuZhqWjgKrQylWonJAC2HtLajP0rD8FiDtfabl6KjQOpTiVCKgYf0GJ7j3eCGcijDcabHcFjiuaziHkhNeyCkJ8eGMF3KmCIEHdlZoj0ZINFsrGmOPJo7keCGc69FoksYjXgipjgItBmlKjg50EYVXRoFHRE4YiaiKMqCFDCQhcLdF64IA14M6lg7kNY+Gd48IThs5KaMGnG3xGtHA2Rbv7g3stohNA9irN56OHiuE1kILPyKSuh+iOSGCw6GGExKjERKgisLJ47F9DxpW78MvWgjrVjeag1U0LRxoc+d1A0aT/UaTNGJjIrNjFnrWZTbMXpBCLkQh0L4a6mwPMJLwoogGaCS8YpAGmKXQ8pMbuN54rg5cJGHPXcDSLa6JACMJM4poUMfEkj4hCtpbAoZ2e8C0WCtjTt87KrIN/c7OV4iIeUqN5+YidZIb8NxbUnaWdzBhh5AJXsGEnWVN8cq4qAOIM7y6UiS9KuI1bSVgBPyBx5GXe8Sd45FxCciyJrgnwcR5UCPO5s4bB32Dowdmn3BfcXvDQsKrFXMGl0eQyDUgM/YNHbymjWWsfbAsz/vA+oAl5kA1x3Jv8ZoxP2HpguW53juWJ0U5J8M5ltYu1datO7gkHUSeiUaIZeYoLl/8TzRCojH2WITYvqon4w29VyrrEnBLv90x4lABFhnbK5eDlcRP4tSYLTEmOl2SyLka+Y9jiU6cC3axEI04K3Eu0EmzEvcXmNkrf8aj3UlWacvjykrWyd3jElHSFaJfy4Ck1NHrrRdBCVcsDQPeTyYQn2OdUAB6fxsB1yQDZDq/o0cTVHMm+b8XF8hb6zdaXm/NBT1jxdlfA/yhmr90ZXspQ4ABV4KUOpCMq5TtZsaKAM/oTdlvE1WGPXxGd065D77Bdif4a8VmulPIpLgP4Kje04RqJ8iB0W8dbYDKRHXYXMZVCviPcEeX34ZhKDNcZ9ruTJNxlXLG2H0Nf0jAnl/vIFnlmzqq9zS5j7EM3D31jHOUrLKNYt96uszhs+SCPsaD0jqyBHi9BYPlkVisDkslgnVYKQnwswEkq5UEeDgLy0qLr0X6qynlukBPSXPtWHVfJ35jadZsLnHx3MSKluGv+CBrPskXWIjmY+8H9O2ZkHwqeQs4Ra3jwxgm/Pdt4VguR4pOsp5ZTlS+xNQ1i+Ye4L8P4VjKUwL8GyUcS9fzX7SzFveW9ysU2/K+bif8QDXn/ZBA4JsoNM+dH/8AcrNL0UaULCIAAAAASUVORK5CYII="},126:function(e,t,a){e.exports=a.p+"static/media/spinner.7332b303.svg"},127:function(e,t,a){e.exports=a.p+"static/media/logo.4a004e7a.svg"},161:function(e,t,a){e.exports=a(309)},166:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},277:function(e,t,a){},278:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){},281:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(29),c=a.n(s),i=(a(166),a(10)),o=a(6),u=a(37),l=a(38),m=a(43),d=a(42),p=(a(170),a(19));a(171);var f=function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement("nav",{className:"navbar__navigation"},r.a.createElement("ul",{className:"navbar__navigation-list"},r.a.createElement("li",{className:"navbar__navigation-item"},r.a.createElement(i.b,{className:"navbar__navigation-link",to:"/profile"},"Profile")),r.a.createElement("li",{className:"navbar__navigation-item"},r.a.createElement(i.b,{className:"navbar__navigation-link",to:"/messages"},"Messages")),r.a.createElement("li",{className:"navbar__navigation-item"},r.a.createElement(i.b,{className:"navbar__navigation-link",to:"/news"},"News")),r.a.createElement("li",{className:"navbar__navigation-item"},r.a.createElement(i.b,{className:"navbar__navigation-link",to:"/music"},"Music")),r.a.createElement("li",{className:"navbar__navigation-item"},r.a.createElement(i.b,{className:"navbar__navigation-link",to:"/settings"},"Settings")),r.a.createElement("li",{className:"navbar__navigation-item"},r.a.createElement(i.b,{className:"navbar__navigation-link",to:"/users"},"Users")))))},g=(a(173),a(174),a(175),a(123)),E=a.n(g);var _=function(e){var t=e.size,a=e.path,n=void 0===a?"":a,s=n||E.a,c=t?"userpic__image_".concat(t):"userpic__image_small";return r.a.createElement("div",{className:"userpic"},r.a.createElement("img",{src:s,alt:"userpic",className:"userpic__image ".concat(c)}))};function h(e){var t=e.mod,a=e.userpic,n=e.text,s=e.time,c=t?" message_".concat(t):"",i=t?" message__userpic_".concat(t):"",o=t?" message__bubble_".concat(t):"";return r.a.createElement("div",{className:"message ".concat(c)},r.a.createElement("div",{className:"message__userpic ".concat(i)},r.a.createElement(_,{path:a})),r.a.createElement("div",{className:"message__bubble ".concat(o)},r.a.createElement("p",{className:"message__text"},n),r.a.createElement("span",{className:"message__time"},s)))}a(176);function v(e){var t=e.link,a=e.name,n=e.userpic,s=t||a;return r.a.createElement(i.b,{className:"dialog-card__link",to:"/messages/".concat(s)},r.a.createElement("div",{className:"dialog-card"},r.a.createElement("div",{className:"dialog-card__userpic"},r.a.createElement(_,{path:n})),r.a.createElement("span",{className:"dialog-card__name"},a)))}a(177);var b=a(119),N=(a(178),a(118));a(179);var O=function(e){var t=e.type,a=e.onClick,n=e.text;return r.a.createElement("button",{className:"button",type:t||"button",onClick:a||void 0},n)},S=function(e){var t=e.handleSubmit;return r.a.createElement("form",{className:"addMessage-form",onSubmit:t},r.a.createElement(N.a,{className:"addMessage-form__field",component:"textarea",name:"newMessageText",placeholder:"Text Message"}),r.a.createElement("div",{className:"addMessage-form__button"},r.a.createElement(O,{type:"submit",text:"Send"})))};var j=function(e){var t=e.addMessage,a=Object(o.c)(),n=Object(b.a)({form:"newMessage"})(S);return r.a.createElement("div",{className:"add-message"},r.a.createElement(n,{onSubmit:function(e){e.newMessageText&&e.newMessageText.trim()&&a(t(e.newMessageText))}}))},w=a(34),y=a(12),x=function(){var e=new Date,t=(e.getMinutes()<10?"0":"")+e.getMinutes();return"".concat(e.getHours(),":").concat(t)},k="reactor/messages/ADD-NEW-MESSAGE",A={id:1,name:"User name",userpic:"https://sun9-39.userapi.com/c624318/v624318471/2b0b4/cRkccpbqGdg.jpg"},P=[{id:2,name:"Stallone",userpic:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSDp1qHgizNWuuDGBMfvJ9Fa1yx1MxgCi77vRCx1yZKd-4d-yld"},{id:3,name:"Spidey",userpic:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTmlPDeFvNgK5-4D-WLjqItQy9QLFRMiPT7Mb3Ve2AE_HA6fWkz"},{id:4,name:"Batman",userpic:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRkxEYJcaSN3Veki_4Q7m_LYgOSFF0ITdxzG4IFfGxp8_BrYdG3",link:"BruceWayne"},{id:5,name:"Goofy Doofy",userpic:"https://www.muralsticker.com/25439-thickbox/autocollants-et-vynils-disney-goofy.jpg",link:"googoo"},{id:6,name:"Buzz Lightyear",userpic:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQR4VFHTHU0j5LMF45COg_es5t0S3BqkcBqReA3QUCZxx00hFxF",link:"spaceRanger007"}],I={getCurrentTime:x,friends:P,user:A,messagesStore:[{id:1,text:"Yo",userpic:P[0].userpic,time:"21: 34"},{id:2,text:"What's up",userpic:P[0].userpic,time:"21: 34"},{id:3,text:"Go to party! Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi non numquam tempore? Dolores eaque quod possimus magnam ullam accusantium odit!",userpic:P[0].userpic,time:"21:35"},{id:4,text:"Yo! i'm in!",userpic:A.userpic,mod:"me",time:"21:40"}]};var U=function(e){return{message:e,type:k}};function C(){var e=Object(o.d)((function(e){return e.messagesPage})),t=e.friends,a=e.messagesStore,s=Object(o.d)((function(e){return e.auth})).isAuth,c=t.map((function(e){return r.a.createElement("li",{className:"dialogs__item",key:e.id},r.a.createElement(v,{userpic:e.userpic,name:e.name,link:e.link}))})),i=a.map((function(e){return r.a.createElement(h,{key:e.id,userpic:e.userpic,text:e.text,time:e.time,mod:e.mod})})),u=Object(n.useRef)(null);return Object(n.useEffect)((function(){s&&u.current.scrollIntoView()})),s?r.a.createElement("main",{className:"messages"},r.a.createElement("div",{className:"messages__dialogs"},r.a.createElement("ul",{className:"messages__dialogs-list"},c)),r.a.createElement("div",{className:"messages__chat"},i,r.a.createElement("div",{className:"messages__bottom-anchor",ref:u}),r.a.createElement("div",{className:"messages__add-message"},r.a.createElement(j,{addMessage:U})))):r.a.createElement(p.a,{to:"/login"})}a(277),a(278),a(279);function T(e){var t=e.userpic,a=e.name,n=e.time,s=e.text,c=e.likes;return r.a.createElement("div",{className:"post"},r.a.createElement("header",{className:"post__header"},r.a.createElement("div",{className:"post__userpic"},r.a.createElement(_,{path:t,size:"small"})),r.a.createElement("div",{className:"post__header-info"},r.a.createElement("h3",{className:"post__username"},a),r.a.createElement("span",{className:"post__time"},n))),r.a.createElement("p",{className:"post__text"},s),r.a.createElement("footer",{className:"post__footer"},r.a.createElement("span",{className:"post__like"},c," people like this")))}a(280),a(281);var M=function(e){return r.a.createElement("form",{className:"addPost-form",onSubmit:e.handleSubmit},r.a.createElement(N.a,{className:"addPost-form__field",component:"textarea",name:"newPost",placeholder:"write something"}),r.a.createElement("div",{className:"addPost-form__button"},r.a.createElement(O,{type:"submit",text:"share"})))};function L(e){var t=e.addPost,a=e.userpic,n=Object(o.c)(),s=Object(b.a)({form:"newPost"})(M);return r.a.createElement("div",{className:"add-post"},r.a.createElement("div",{className:"add-post__userpic"},r.a.createElement(_,{path:a})),r.a.createElement("div",{className:"add-post__form"},r.a.createElement(s,{onSubmit:function(e){e.newPost&&e.newPost.trim()&&n(t(e.newPost.trim()))}})))}var R=a(9),D=a.n(R),G=a(17),F=a(125).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":Object({NODE_ENV:"production",PUBLIC_URL:"/reactor",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).API_KEY}}),z={getUsers:function(e,t){return F.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},followUser:function(e){return F.post("follow/".concat(e)).then((function(e){return e.data}))},unfollowUser:function(e){return F.delete("follow/".concat(e)).then((function(e){return e.data}))}},H=function(e){return F.get("profile/".concat(e)).then((function(e){return e.data}))},q=function(e){return F.get("/profile/status/".concat(e))},W=function(e){return F.put("/profile/status",{status:e})},K=function(){return F.get("/auth/me").then((function(e){return e.data}))},B=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return F.post("/auth/login",{email:e,password:t,rememberMe:a}).then((function(e){return e.data}))},Y=function(){return F.delete("/auth/login").then((function(e){return e.data}))},V="reactor/profile/ADD-NEW-POST",J="reactor/profile/SET-USER-PROFILE",X="reactor/profile/SET_USER_STATUS",Z="reactor/profile/REMOVE_POST",Q={getCurrentTime:x,posts:[{id:1,name:"you know my name",userpic:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSYGgvh223rQXiRrH1k91ftAkPXZ8rUsDYBAi_UyUgyqwGtVRBl",time:"yesterday",text:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsam, cum.",likes:100},{id:2,name:"User name",userpic:"https://sun9-39.userapi.com/c624318/v624318471/2b0b4/cRkccpbqGdg.jpg",time:"yesterday",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nobis, error porro nemo libero doloremque beatae accusamus fugiat culpa placeat perspiciatis?",likes:201}],userProfile:null,userStatus:""};var $=function(e){return{post:e,type:V}},ee=function(e){return{status:e,type:X}},te=function(){var e=Object(o.d)((function(e){return e.profilePage.posts})),t=Object(o.d)((function(e){return e.auth.userPhotos.small})),a=e.map((function(e){return r.a.createElement(T,{key:e.id,name:e.name,userpic:e.userpic,time:e.time,text:e.text,likes:e.likes})})).reverse();return r.a.createElement("div",{className:"my-posts"},r.a.createElement("div",{className:"my-posts__add-post"},r.a.createElement(L,{addPost:$,userpic:t})),a)},ae=(a(300),a(56)),ne=(a(301),function(e){var t=Object(n.useState)(!1),a=Object(ae.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)(e.userStatus),o=Object(ae.a)(i,2),u=o[0],l=o[1];Object(n.useEffect)((function(){l(e.userStatus)}),[e.userStatus]);var m=function(){return e.userId===e.authorizedUserId};return r.a.createElement("div",{className:"status"},!s&&r.a.createElement("p",{className:"status__text",onClick:function(){m()&&c(!0)}},e.userStatus?e.userStatus:m()?"set a status message":""),s&&r.a.createElement("div",{className:"status__edit",onBlur:function(){c(!1),e.updateStatus(u)}},r.a.createElement("input",{value:u,className:"status__edit-field",type:"text",maxLength:"300",placeholder:"set a status message",autoFocus:!0,onChange:function(e){l(e.target.value)}}),r.a.createElement("div",{className:"status__button"},r.a.createElement(O,{text:"save"}))))});var re=function(e){return r.a.createElement("div",{className:"about"},r.a.createElement("h3",{className:"about__name"},e.profile.fullName),r.a.createElement("div",{className:"about__status"},r.a.createElement(ne,{userStatus:e.userStatus,updateStatus:e.updateStatus,authorizedUserId:e.authorizedUserId,userId:e.userId})),r.a.createElement("div",{className:"about__about-me"},r.a.createElement("span",{className:"about__info-title"},"About me: "),e.profile.aboutMe),r.a.createElement("div",{className:"about__work"},r.a.createElement("span",{className:"about__info-title"},"Job: "),e.profile.lookingForAJobDescription),r.a.createElement("div",{className:"about__location"},"location"))},se=a(126),ce=a.n(se);var ie=function(e){var t=e.size;return r.a.createElement("div",{className:"spinner"},r.a.createElement("img",{className:"spinner__image",src:ce.a,width:t,alt:"loading progress spinner"}))};var oe=function(e){return e.profile?r.a.createElement("main",{className:"profile"},r.a.createElement("div",{className:"profile__userpic"},r.a.createElement(_,{path:e.profile.photos.large,size:"large"})),r.a.createElement("div",{className:"profile__about"},r.a.createElement(re,{profile:e.profile,userStatus:e.userStatus,updateStatus:e.updateStatus,authorizedUserId:e.authorizedUserId,userId:e.userId})),r.a.createElement("div",{className:"profile__my-posts"},r.a.createElement(te,null))):r.a.createElement("div",{className:"profile__spinner"},r.a.createElement(ie,{size:"100"}))},ue=a(8),le=function(e){var t=function(t){Object(m.a)(n,t);var a=Object(d.a)(n);function n(){return Object(u.a)(this,n),a.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(p.a,{to:"/login"})}}]),n}(r.a.Component);return Object(o.b)((function(e){return{isAuth:e.auth.isAuth}}))(t)},me=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.userId=n.props.match.params.userId,n.userId||(n.userId=n.props.authorizedUserId),n.props.setUserProfile(n.userId),n.props.getUserStatus(n.userId)},n.userId=null,n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(oe,Object.assign({},this.props,{userId:this.userId}))}}]),a}(r.a.Component),de=Object(ue.d)(Object(o.b)((function(e){return{profile:e.profilePage.userProfile,userStatus:e.profilePage.userStatus,authorizedUserId:e.auth.id}}),{setUserProfile:function(e){return function(){var t=Object(G.a)(D.a.mark((function t(a){var n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H(e);case 2:n=t.sent,a({profile:n,type:J});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(G.a)(D.a.mark((function t(a){var n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(e);case 2:n=t.sent,a(ee(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(G.a)(D.a.mark((function t(a){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(e);case 2:0===t.sent.data.resultCode&&a(ee(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),p.f,le)(me),pe=(a(302),a(127)),fe=a.n(pe),ge=(a(303),a(25)),Ee="reactor/auth/SET-USER-DATA",_e={id:null,email:null,login:null,isAuth:!1,userPhotos:{}},he=function(e,t,a,n){return{type:Ee,data:{id:e,email:t,login:a,isAuth:n}}},ve=function(e){return{payload:e,type:"reactor/auth/SET_USER_PHOTOS"}},be=function(){return function(){var e=Object(G.a)(D.a.mark((function e(t){var a,n,r,s,c,i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:if(0!==(a=e.sent).resultCode){e.next=10;break}return n=a.data,r=n.id,s=n.email,c=n.login,t(he(r,s,c,!0)),e.next=8,H(r);case 8:0===(i=e.sent).resultCode&&t(ve(i.photos));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ne=function(){var e=Object(o.d)((function(e){return e.auth})),t=e.login,a=e.isAuth,s=e.userPhotos.large,c=Object(o.c)(),u=Object(n.useState)(!1),l=Object(ae.a)(u,2),m=l[0],d=l[1],p=m?" header-auth__menu_open":"",f=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=function(e){f&&m&&!f.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}})),r.a.createElement(r.a.Fragment,null,a?r.a.createElement("div",{className:"header-auth",onClick:function(){return d(!m)},ref:f},r.a.createElement("div",{className:"header-auth__profileicon"},r.a.createElement(_,{path:s})),r.a.createElement("span",{className:"header-auth__login"},t),r.a.createElement("div",{className:"header-auth__menu"+p},r.a.createElement("ul",{className:"header-auth__menu-list"},r.a.createElement("li",{className:"header-auth__menu-item"},r.a.createElement(i.b,{className:"header-auth__menu-link",to:"/profile"},"Profile")),r.a.createElement("li",{className:"header-auth__menu-item"},r.a.createElement("button",{className:"header-auth__button",onClick:function(){return c(function(){var e=Object(G.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:0===e.sent.resultCode&&(t(he(null,null,null,!1)),t(ve([])));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"Sign Out"))))):r.a.createElement(i.b,{className:"header-auth__login-link",to:"/login"},"Sign in"))};function Oe(){return r.a.createElement("header",{className:"site-header"},r.a.createElement("div",{className:"site-header__container"},r.a.createElement("div",{className:"site-header__logo"},r.a.createElement("a",{href:"index.html",className:"site-header__logo-link"},r.a.createElement("img",{className:"site-header__logo-image",src:fe.a,width:"40",alt:"Reactor logo"}),"Reactor")),r.a.createElement("div",{className:"site-header__search"},r.a.createElement("input",{type:"text",className:"site-header__search-bar",placeholder:"Search"})),r.a.createElement("div",{className:"site-header__auth-wrapper"},r.a.createElement(Ne,null))))}a(304),a(305);var Se,je,we=a(132),ye=(a(306),function(e){var t=e.input,a=e.meta,n=Object(we.a)(e,["input","meta"]),s=a.touched&&a.error,c=s?" error":"";return r.a.createElement("div",{className:"input-field"},s&&r.a.createElement("span",{className:"error-message"},a.error),r.a.createElement("input",Object.assign({},t,n,{className:n.className+c})))}),xe=function(e){if(!e)return"Required field!"},ke=(Se=10,function(e){return e&&e.length>Se?"Error! Max Length is ".concat(Se," symbols"):void 0}),Ae=(je=4,function(e){return e&&e.length<je?"Error! Min Length is ".concat(je," symbols"):void 0});function Pe(e){var t=e.handleSubmit,a=e.error;return r.a.createElement("form",{onSubmit:t,className:"login-form"},r.a.createElement("h3",{className:"login-form__title"},"Login"),r.a.createElement(N.a,{className:"login-form__field",component:ye,type:"email",name:"email",placeholder:"email",validate:[xe]}),r.a.createElement(N.a,{className:"login-form__field",component:ye,type:"password",name:"password",placeholder:"password",validate:[xe,ke,Ae]}),r.a.createElement("label",{className:"login-form__label"},r.a.createElement(N.a,{className:"login-form__checkbox",component:"input",type:"checkbox",name:"rememberMe"}),r.a.createElement("span",{className:"login-form__checkbox-button"}),"Remember me"),r.a.createElement("div",{className:"form-error"},a),r.a.createElement(O,{type:"submit",text:"Enter"}))}Pe.defaultProps={error:""};var Ie=Pe;var Ue=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return e.auth.isAuth})),a=Object(b.a)({form:"login"})(Ie);return t?r.a.createElement(p.a,{to:"/profile"}):r.a.createElement("section",{className:"login"},r.a.createElement(a,{onSubmit:function(t){var a=t.email,n=t.password,r=t.rememberMe;e(function(e,t,a){return function(){var n=Object(G.a)(D.a.mark((function n(r){var s,c,i,o,u;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B(e,t,a);case 2:if(s=n.sent,c=s.resultCode,i=s.messages,0===c){n.next=9;break}return o=i.length>0?i[0]:"Something wrong",u=Object(ge.a)("login",{_error:o}),n.abrupt("return",r(u));case 9:r(be());case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(a,n,r))}}))},Ce={initialized:!1};a(307),a(308);function Te(e){var t=e.followed,a=e.followingInProgress,n=e.follow,s=e.unfollow,c=e.id,u=e.name,l=e.userpic,m=e.status,d=Object(o.c)();return r.a.createElement("div",{className:"user"},r.a.createElement("div",{className:"user__main-wrapper"},r.a.createElement("div",{className:"user__userpic"},r.a.createElement(i.b,{to:"/profile/".concat(c)},r.a.createElement(_,{path:l}))),r.a.createElement("div",{className:"user__button"},r.a.createElement("button",{className:"button",type:"button",disabled:a.some((function(e){return e===c})),onClick:function(){return d(t?s(c):n(c))}},t?"unfollow":"follow"))),r.a.createElement("div",{className:"user__info"},r.a.createElement("span",{className:"user__name"},r.a.createElement(i.b,{className:"user__name-link",to:"/profile/".concat(c)},u)),r.a.createElement("span",{className:"user__status"},m)),r.a.createElement("div",{className:"user__location"},r.a.createElement("span",{className:"user__country"},"location.country"),r.a.createElement("span",{className:"user__city"},"location.city")))}var Me=a(324),Le="reactor/users/FOLLOW",Re="reactor/users/UNFOLLOW",De="reactor/users/SET-USERS",Ge={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]};var Fe=function(e){return{userID:e,type:Le}},ze=function(e){return{userID:e,type:Re}},He=function(e){return{isFetching:e,type:"reactor/users/SET-IS-FETCHING"}},qe=function(e,t){return{inProgress:e,id:t,type:"reactor/users/SET_FOLLOWING_IN_PROGRESS"}},We=function(e,t){return function(){var a=Object(G.a)(D.a.mark((function a(n){var r;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(He(!0)),a.next=3,z.getUsers(e,t);case 3:r=a.sent,n(He(!1)),n({users:r.items,type:De}),n({count:r.totalCount,type:"reactor/users/SET-TOTAL-USERS-COUNT"}),n({currentPage:e,type:"reactor/users/SET-CURRENT-PAGE"});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Ke=function(){var e=Object(G.a)(D.a.mark((function e(t,a,n,r){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(qe(!0,a)),e.next=3,n(a);case 3:0===e.sent.resultCode&&t(r(a)),t(qe(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Be=function(e){return function(t){Ke(t,e,z.followUser.bind(z),Fe)}},Ye=function(e){return function(t){Ke(t,e,z.unfollowUser.bind(z),ze)}};function Ve(){var e=Object(o.c)(),t=Object(o.d)((function(e){return e.usersPage})),a=t.pageSize,s=t.users,c=t.currentPage,i=t.followingInProgress,u=t.totalUsersCount,l=t.isFetching,m=Object(o.d)((function(e){return e.auth})).isAuth;Object(n.useEffect)((function(){e(We(c,a))}),[]);var d=Math.ceil(u/a),f=s.map((function(e){return r.a.createElement("li",{className:"users__item",key:e.id},r.a.createElement(Te,{name:e.name,status:e.status,userpic:e.photos.large,followed:e.followed,id:e.id,follow:Be,unfollow:Ye,followingInProgress:i}))}));return m?r.a.createElement("section",{className:"users"},r.a.createElement("div",{className:"users__pagination"},r.a.createElement(Me.a,{count:d,page:c,onChange:function(t,n){e(We(n,a))}})),l?r.a.createElement(ie,null):r.a.createElement("ul",{className:"users__list"},f)):r.a.createElement(p.a,{to:"/login"})}var Je=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){e.props.initializeApp()},e}return Object(l.a)(a,[{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(Oe,null),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement(f,null),r.a.createElement("div",{className:"content"},r.a.createElement(p.b,{exact:!0,path:"/",render:function(){return r.a.createElement(Ue,null)}}),r.a.createElement(p.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(de,null)}}),r.a.createElement(p.b,{path:"/messages",render:function(){return r.a.createElement(C,null)}}),r.a.createElement(p.b,{path:"/users",render:function(){return r.a.createElement(Ve,null)}}),r.a.createElement(p.b,{path:"/login",render:function(){return r.a.createElement(Ue,null)}})))):r.a.createElement("div",{className:"spinner"},r.a.createElement(ie,{size:"100"}))}}]),a}(r.a.Component),Xe=Object(o.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(G.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(be());case 2:t({type:"reactor/app/INITIALIZE_SUCCESS"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Je);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ze=a(131),Qe=a(120),$e=Object(ue.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:if(!t.post||!t.post.trim())return e;if(!e.userProfile)return e;var a=e.posts[e.posts.length-1].id,n={id:a+1,name:e.userProfile.fullName,userpic:e.userProfile.photos.small,time:e.getCurrentTime(),text:t.post,likes:0};return Object(y.a)({},e,{posts:[].concat(Object(w.a)(e.posts),[n])});case J:return Object(y.a)({},e,{userProfile:t.profile});case X:return Object(y.a)({},e,{userStatus:t.status});case Z:return Object(y.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.id}))});default:return e}},messagesPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:if(!t.message||!t.message.trim())return e;var a=e.messagesStore[e.messagesStore.length-1].id,n={id:a+1,userpic:e.user.userpic,text:t.message.trim(),time:e.getCurrentTime(),mod:"me"};return Object(y.a)({},e,{messagesStore:[].concat(Object(w.a)(e.messagesStore),[n])});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0,a=function(a){return Object(y.a)({},e,{users:e.users.map((function(e){return t.userID===e.id?Object(y.a)({},e,{followed:a}):e}))})};switch(t.type){case Le:return a(!0);case Re:return a(!1);case De:return Object(y.a)({},e,{users:Object(w.a)(t.users)});case"reactor/users/SET-CURRENT-PAGE":return Object(y.a)({},e,{currentPage:t.currentPage});case"reactor/users/SET-TOTAL-USERS-COUNT":return Object(y.a)({},e,{totalUsersCount:t.count});case"reactor/users/SET-IS-FETCHING":return Object(y.a)({},e,{isFetching:t.isFetching});case"reactor/users/SET_FOLLOWING_IN_PROGRESS":return Object(y.a)({},e,{followingInProgress:t.inProgress?[].concat(Object(w.a)(e.followingInProgress),[t.id]):e.followingInProgress.filter((function(e){return e!==t.id}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return Object(y.a)({},e,{},t.data);case"reactor/auth/SET_USER_PHOTOS":return Object(y.a)({},e,{userPhotos:t.payload});default:return e}},form:Qe.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"reactor/app/INITIALIZE_SUCCESS":return Object(y.a)({},e,{initialized:!0});default:return e}}}),et=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ue.d,tt=Object(ue.e)($e,et(Object(ue.a)(Ze.a)));c.a.render(r.a.createElement(i.a,{basename:"/reactor"},r.a.createElement(o.a,{store:tt},r.a.createElement(Xe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[161,1,2]]]);
//# sourceMappingURL=main.1f5537a4.chunk.js.map